import{c as lr,r as o,j as t,a as f,H as or}from"./app-B-XTbUoe.js";import{A as dr}from"./app-layout-DsHkyj2r.js";import{d as nr}from"./index-CiEIW7uy.js";/* empty css            */import"./app-logo-icon-DUzGgLPl.js";import"./index-BKf4NpSc.js";import"./index-D61l1uVg.js";const ir=[{title:"Dashboard",href:nr().url}],cr=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function Dr(){const e=lr.c(226);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0];const[m,Qt]=o.useState(n),[we,Ct]=o.useState(!0),[Te,zt]=o.useState(null),[x,Pt]=o.useState(1),[A]=o.useState(10),[p,Vt]=o.useState(1),[T,Xt]=o.useState(0);let Ee;e[1]===Symbol.for("react.memo_cache_sentinel")?(Ee={from:null,to:null},e[1]=Ee):Ee=e[1];const[F,Zt]=o.useState(Ee);let $e;e[2]===Symbol.for("react.memo_cache_sentinel")?($e={},e[2]=$e):$e=e[2];const[c,Ae]=o.useState($e);let Fe;e[3]===Symbol.for("react.memo_cache_sentinel")?(Fe={productId:null,status:"idle"},e[3]=Fe):Fe=e[3];const[b,Re]=o.useState(Fe);let De;e[4]===Symbol.for("react.memo_cache_sentinel")?(De=new Set,e[4]=De):De=e[4];const[R,Tt]=o.useState(De),[Et,Bt]=o.useState(null),[E,Ht]=o.useState(null),D=o.useRef(null),[qe,It]=o.useState(!1),Se=o.useRef(null);let Me;e[5]===Symbol.for("react.memo_cache_sentinel")?(Me={search:"",category:"",min_price:"",max_price:""},e[5]=Me):Me=e[5];const[s,Ce]=o.useState(Me),[y,Yt]=o.useState(null),[h,Gt]=o.useState("stripe");let Ue;e[6]!==x||e[7]!==s.category||e[8]!==s.max_price||e[9]!==s.min_price||e[10]!==s.search||e[11]!==A?(Ue=()=>{const a=new AbortController;return Ct(!0),zt(null),f.get("/api/products",{signal:a.signal,params:{page:x,per_page:A,...s.search?{search:s.search}:{},...s.category?{category:s.category}:{},...s.min_price?{min_price:s.min_price}:{},...s.max_price?{max_price:s.max_price}:{}}}).then(l=>{const d=l.data.products;Qt(d.data),Vt(d.last_page),Xt(d.total),Zt({from:d.from,to:d.to}),Ct(!1)}).catch(l=>{f.isCancel(l)||(console.error("Error fetching data:",l),zt("Unable to load products right now."),Ct(!1))}),()=>a.abort()},e[6]=x,e[7]=s.category,e[8]=s.max_price,e[9]=s.min_price,e[10]=s.search,e[11]=A,e[12]=Ue):Ue=e[12];let Le;e[13]!==x||e[14]!==s||e[15]!==A?(Le=[x,A,s],e[13]=x,e[14]=s,e[15]=A,e[16]=Le):Le=e[16],o.useEffect(Ue,Le);let Oe,We;e[17]===Symbol.for("react.memo_cache_sentinel")?(Oe=()=>{const a=new AbortController;return f.get("/api/favorites",{signal:a.signal}).then(l=>{const d=(l.data.favorites??[]).map(Sr);Tt(new Set(d))}).catch(wr),()=>a.abort()},We=[],e[17]=Oe,e[18]=We):(Oe=e[17],We=e[18]),o.useEffect(Oe,We);let ze,Be;e[19]===Symbol.for("react.memo_cache_sentinel")?(ze=()=>{const a=new AbortController;return f.get("/api/cart",{signal:a.signal}).then(l=>{Ae(l.data.items??{}),It(!0)}).catch(l=>{f.isCancel(l)||(console.error("Error fetching cart:",l),It(!0))}),()=>a.abort()},Be=[],e[19]=ze,e[20]=Be):(ze=e[19],Be=e[20]),o.useEffect(ze,Be);let He,Ie;e[21]===Symbol.for("react.memo_cache_sentinel")?(He=()=>{const a=new AbortController;return f.get("/api/wallet",{signal:a.signal}).then(l=>{Yt(l.data.balance??0)}).catch(_r),()=>a.abort()},Ie=[],e[21]=He,e[22]=Ie):(He=e[21],Ie=e[22]),o.useEffect(He,Ie);let Ye,Ge;e[23]===Symbol.for("react.memo_cache_sentinel")?(Ye=()=>()=>{D.current&&clearTimeout(D.current)},Ge=[],e[23]=Ye,e[24]=Ge):(Ye=e[23],Ge=e[24]),o.useEffect(Ye,Ge);let Je,Ke;e[25]!==c||e[26]!==qe?(Je=()=>{if(qe)return Se.current&&clearTimeout(Se.current),Se.current=setTimeout(()=>{const a=Object.entries(c).map(kr);f.post("/api/cart",{items:a}).catch(Nr)},400),()=>{Se.current&&clearTimeout(Se.current)}},Ke=[c,qe],e[25]=c,e[26]=qe,e[27]=Je,e[28]=Ke):(Je=e[27],Ke=e[28]),o.useEffect(Je,Ke);let Qe;e[29]===Symbol.for("react.memo_cache_sentinel")?(Qe=()=>{Pt(1)},e[29]=Qe):Qe=e[29];let Ve;e[30]!==s?(Ve=[s],e[30]=s,e[31]=Ve):Ve=e[31],o.useEffect(Qe,Ve);const g=vr,er=jr;let Xe;e[32]===Symbol.for("react.memo_cache_sentinel")?(Xe=a=>{Ae(l=>({...l,[a]:(l[a]??0)+1}))},e[32]=Xe):Xe=e[32];const Jt=Xe;let Ze;e[33]===Symbol.for("react.memo_cache_sentinel")?(Ze=a=>{Ae(l=>{const d={...l};return d[a]?d[a]===1?(delete d[a],d):(d[a]=d[a]-1,d):d})},e[33]=Ze):Ze=e[33];const tr=Ze;let et;e[34]!==c||e[35]!==h?(et=async()=>{const a=Object.entries(c).map(yr);if(a.length===0){Re({productId:null,status:"error",message:"Your cart is empty."});return}Re({productId:null,status:"loading"});try{const l=await f.post("/api/checkout",{items:a,payment_method:h});if(l.data.checkout_url){window.location.href=l.data.checkout_url;return}Re({productId:null,status:"success",message:`Payment session ${l.data.payment_reference} created.`}),Ae({}),await f.delete("/api/cart"),typeof l.data.wallet_balance=="number"&&Yt(l.data.wallet_balance)}catch(l){const d=l;console.error("Checkout failed:",d),Re({productId:null,status:"error",message:d?.response?.data?.message??"Payment setup failed. Try again."})}},e[34]=c,e[35]=h,e[36]=et):et=e[36];const $t=et;let q,$,u,M,U,L,j,O,W,z,B,v,N,k,H,I,Y,_,G,w,S,C,J,P;if(e[37]!==c||e[38]!==b.status||e[39]!==x||e[40]!==Te||e[41]!==Et||e[42]!==E||e[43]!==R||e[44]!==s.category||e[45]!==s.max_price||e[46]!==s.min_price||e[47]!==s.search||e[48]!==p||e[49]!==we||e[50]!==h||e[51]!==m||e[52]!==F||e[53]!==T||e[54]!==y){const a=(r,i)=>{Ht({message:r,tone:i}),D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{Ht(null),D.current=null},2200)},l=async r=>{const i=new Set(R),Pe=i.has(r);i[Pe?"delete":"add"](r),Tt(i),Bt(r),setTimeout(()=>Bt(null),400);try{Pe?(await f.delete(`/api/favorites/${r}`),a("Removed from favorites.","success")):(await f.post("/api/favorites",{product_id:r}),a("Added to favorites.","success"))}catch(St){console.error("Favorite update failed:",St);const ar=new Set(R);Tt(ar),a("Unable to update favorites.","error")}};let d;e[79]!==c?(d=r=>c[r.id],e[79]=c,e[80]=d):d=e[80];let rt;e[81]!==c?(rt=r=>({...r,quantity:c[r.id],lineTotal:r.final_price*c[r.id],lineCashback:r.cashback_amount*c[r.id]}),e[81]=c,e[82]=rt):rt=e[82],u=m.filter(d).map(rt);let st;if(e[83]!==m){const r=new Set;m.forEach(i=>{i.category&&r.add(i.category)}),st=Array.from(r).sort(),e[83]=m,e[84]=st}else st=e[84];const Rt=st,Kt=u.reduce(gr,0),rr=u.reduce(pr,0);$=y!==null&&y>=Kt&&u.length>0,q=dr,J=ir,e[85]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(or,{title:"Dashboard"}),e[85]=P):P=e[85],G="flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",e[86]!==E?(w=E?t.jsx("div",{className:"pointer-events-none fixed right-6 top-6 z-50",children:t.jsx("div",{className:`rounded-lg border px-4 py-2 text-sm shadow-lg ${E.tone==="success"?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-red-200 bg-red-50 text-red-700"}`,children:E.message})}):null,e[86]=E,e[87]=w):w=e[87];let at,lt;e[88]===Symbol.for("react.memo_cache_sentinel")?(at=t.jsx("div",{className:"absolute -right-16 -top-16 h-40 w-40 rounded-full bg-emerald-200/40 blur-3xl dark:bg-emerald-400/20"}),lt=t.jsx("div",{className:"absolute -left-10 bottom-0 h-36 w-36 rounded-full bg-sky-200/30 blur-3xl dark:bg-sky-400/20"}),e[88]=at,e[89]=lt):(at=e[88],lt=e[89]);let ot;e[90]===Symbol.for("react.memo_cache_sentinel")?(ot=t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"Online Store"}),t.jsx("h1",{className:"mt-2 text-2xl font-semibold text-foreground",children:"Secure payments, instant savings"}),t.jsx("p",{className:"mt-1 max-w-xl text-sm text-muted-foreground",children:"Shop curated products with transparent pricing, active promos, and automatic cashback."})]}),e[90]=ot):ot=e[90];let dt;e[91]===Symbol.for("react.memo_cache_sentinel")?(dt=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Products"}),e[91]=dt):dt=e[91];let le;e[92]!==T?(le=t.jsxs("div",{className:"min-w-[140px] rounded-lg border border-sidebar-border/60 bg-background/80 px-4 py-3 shadow-sm dark:border-sidebar-border",children:[dt,t.jsx("p",{className:"text-lg font-semibold",children:T})]}),e[92]=T,e[93]=le):le=e[93];let nt;e[94]===Symbol.for("react.memo_cache_sentinel")?(nt=t.jsxs("div",{className:"min-w-[140px] rounded-lg border border-sidebar-border/60 bg-background/80 px-4 py-3 shadow-sm dark:border-sidebar-border",children:[t.jsx("p",{className:"text-xs text-muted-foreground",children:"Secure checkout"}),t.jsx("p",{className:"text-lg font-semibold",children:"Enabled"})]}),e[94]=nt):nt=e[94];let it;e[95]===Symbol.for("react.memo_cache_sentinel")?(it=t.jsx("p",{className:"text-xs text-muted-foreground",children:"Promos today"}),e[95]=it):it=e[95];let oe;e[96]!==m?(oe=m.filter(hr),e[96]=m,e[97]=oe):oe=e[97];let de;e[98]!==oe.length?(de=t.jsxs("div",{className:"min-w-[140px] rounded-lg border border-sidebar-border/60 bg-background/80 px-4 py-3 shadow-sm dark:border-sidebar-border",children:[it,t.jsx("p",{className:"text-lg font-semibold",children:oe.length})]}),e[98]=oe.length,e[99]=de):de=e[99],e[100]!==le||e[101]!==de?(S=t.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-sidebar-border/70 bg-gradient-to-br from-muted/40 via-background to-muted/30 p-6 dark:border-sidebar-border",children:[at,lt,t.jsxs("div",{className:"relative flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[ot,t.jsxs("div",{className:"flex flex-wrap gap-3",children:[le,nt,de]})]})]}),e[100]=le,e[101]=de,e[102]=S):S=e[102];let ct;e[103]===Symbol.for("react.memo_cache_sentinel")?(ct=t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Filter products"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Search, category, or price range to refine the list."})]}),e[103]=ct):ct=e[103];let mt;e[104]===Symbol.for("react.memo_cache_sentinel")?(mt=t.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[ct,t.jsx("button",{className:"rounded-md border border-sidebar-border/70 px-3 py-1 text-xs font-semibold dark:border-sidebar-border",onClick:()=>Ce({search:"",category:"",min_price:"",max_price:""}),type:"button",children:"Clear filters"})]}),e[104]=mt):mt=e[104];let bt;e[105]===Symbol.for("react.memo_cache_sentinel")?(bt=r=>Ce(i=>({...i,search:r.target.value})),e[105]=bt):bt=e[105];let ne;e[106]!==s.search?(ne=t.jsx("input",{className:"rounded-md border border-sidebar-border/70 bg-background px-3 py-2 text-xs dark:border-sidebar-border",placeholder:"Search products",value:s.search,onChange:bt}),e[106]=s.search,e[107]=ne):ne=e[107];const sr=s.category;let ut,xt;e[108]===Symbol.for("react.memo_cache_sentinel")?(ut=r=>Ce(i=>({...i,category:r.target.value})),xt=t.jsx("option",{value:"",children:"All categories"}),e[108]=ut,e[109]=xt):(ut=e[108],xt=e[109]);let ie;e[110]!==Rt?(ie=Rt.map(fr),e[110]=Rt,e[111]=ie):ie=e[111];let ce;e[112]!==s.category||e[113]!==ie?(ce=t.jsxs("select",{className:"rounded-md border border-sidebar-border/70 bg-background px-3 py-2 text-xs dark:border-sidebar-border",value:sr,onChange:ut,children:[xt,ie]}),e[112]=s.category,e[113]=ie,e[114]=ce):ce=e[114];let ft;e[115]===Symbol.for("react.memo_cache_sentinel")?(ft=r=>Ce(i=>({...i,min_price:r.target.value})),e[115]=ft):ft=e[115];let me;e[116]!==s.min_price?(me=t.jsx("input",{className:"rounded-md border border-sidebar-border/70 bg-background px-3 py-2 text-xs dark:border-sidebar-border",placeholder:"Min price",value:s.min_price,onChange:ft,type:"number",min:"0"}),e[116]=s.min_price,e[117]=me):me=e[117];let ht;e[118]===Symbol.for("react.memo_cache_sentinel")?(ht=r=>Ce(i=>({...i,max_price:r.target.value})),e[118]=ht):ht=e[118];let be;e[119]!==s.max_price?(be=t.jsx("input",{className:"rounded-md border border-sidebar-border/70 bg-background px-3 py-2 text-xs dark:border-sidebar-border",placeholder:"Max price",value:s.max_price,onChange:ht,type:"number",min:"0"}),e[119]=s.max_price,e[120]=be):be=e[120],e[121]!==ne||e[122]!==ce||e[123]!==me||e[124]!==be?(C=t.jsxs("div",{className:"rounded-xl border border-sidebar-border/70 bg-background p-4 dark:border-sidebar-border",children:[mt,t.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4",children:[ne,ce,me,be]})]}),e[121]=ne,e[122]=ce,e[123]=me,e[124]=be,e[125]=C):C=e[125],Y="grid gap-4 lg:grid-cols-[minmax(0,1fr)_360px]";let pt;e[126]===Symbol.for("react.memo_cache_sentinel")?(pt=t.jsx("h2",{className:"text-lg font-semibold",children:"Products"}),e[126]=pt):pt=e[126];const Dt=T>0&&F.from!==null&&F.to!==null?`Showing ${F.from}-${F.to} of ${T}`:"No products found";let ue;e[127]!==Dt?(ue=t.jsxs("div",{children:[pt,t.jsx("p",{className:"text-sm text-muted-foreground",children:Dt})]}),e[127]=Dt,e[128]=ue):ue=e[128];let gt;e[129]===Symbol.for("react.memo_cache_sentinel")?(gt=()=>Pt(xr),e[129]=gt):gt=e[129];const qt=we||x===1;let xe;e[130]!==qt?(xe=t.jsx("button",{className:"rounded-md border border-sidebar-border/70 px-3 py-1 text-sm disabled:cursor-not-allowed disabled:opacity-50 dark:border-sidebar-border",onClick:gt,disabled:qt,type:"button",children:"Prev"}),e[130]=qt,e[131]=xe):xe=e[131];let fe;e[132]!==x||e[133]!==p?(fe=t.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",x," of ",p]}),e[132]=x,e[133]=p,e[134]=fe):fe=e[134];let he;e[135]!==p?(he=()=>Pt(r=>Math.min(p,r+1)),e[135]=p,e[136]=he):he=e[136];const Mt=we||x===p;let pe;e[137]!==he||e[138]!==Mt?(pe=t.jsx("button",{className:"rounded-md border border-sidebar-border/70 px-3 py-1 text-sm disabled:cursor-not-allowed disabled:opacity-50 dark:border-sidebar-border",onClick:he,disabled:Mt,type:"button",children:"Next"}),e[137]=he,e[138]=Mt,e[139]=pe):pe=e[139];let ge;e[140]!==xe||e[141]!==fe||e[142]!==pe?(ge=t.jsxs("div",{className:"flex items-center gap-2",children:[xe,fe,pe]}),e[140]=xe,e[141]=fe,e[142]=pe,e[143]=ge):ge=e[143];let ye;e[144]!==ue||e[145]!==ge?(ye=t.jsxs("div",{className:"flex flex-col gap-3 border-b border-sidebar-border/70 px-4 py-4 md:flex-row md:items-center md:justify-between dark:border-sidebar-border",children:[ue,ge]}),e[144]=ue,e[145]=ge,e[146]=ye):ye=e[146];const Ut=Te?t.jsx("div",{className:"px-4 py-6 text-sm text-red-600 dark:text-red-400",children:Te}):t.jsx("div",{className:"grid gap-4 p-4 md:grid-cols-2 xl:grid-cols-3",children:we?Array.from({length:6}).map(ur):m.map(r=>{const i=er(r.promo_expires_at),Pe=r.discount_percent>0,St=r.cashback_percent>0;return t.jsxs("div",{className:"flex h-full flex-col rounded-xl border border-sidebar-border/70 bg-background p-4 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md dark:border-sidebar-border",children:[t.jsx("div",{className:"relative h-36 overflow-hidden rounded-lg border border-sidebar-border/50 bg-muted/40 dark:border-sidebar-border",children:r.image?t.jsx("img",{src:`/storage/${r.image}`,alt:r.name,className:"h-full w-full object-cover",loading:"lazy"}):t.jsx("div",{className:"flex h-full items-center justify-center text-xs text-muted-foreground",children:"No image"})}),t.jsxs("div",{className:"mt-4 flex items-start justify-between gap-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:r.category??"Unassigned"}),t.jsx("h3",{className:"text-lg font-semibold",children:r.name})]}),r.promo_active&&t.jsx("span",{className:"rounded-full border border-emerald-200 bg-emerald-50 px-2 py-1 text-xs font-semibold text-emerald-700 dark:border-emerald-400/40 dark:bg-emerald-500/10 dark:text-emerald-200",children:r.promo_label??"Promo"})]}),t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2 text-xs",children:[Pe&&t.jsxs("span",{className:"rounded-full border border-amber-200 bg-amber-50 px-2 py-1 text-amber-700 dark:border-amber-400/40 dark:bg-amber-500/10 dark:text-amber-200",children:[r.discount_percent,"% off"]}),St&&t.jsxs("span",{className:"rounded-full border border-sky-200 bg-sky-50 px-2 py-1 text-sky-700 dark:border-sky-400/40 dark:bg-sky-500/10 dark:text-sky-200",children:[r.cashback_percent,"% cashback"]}),t.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.rating_average!==null&&r.rating_average!==void 0?`${r.rating_average.toFixed(1)} / 5`:"No ratings",r.reviews_count?` (${r.reviews_count})`:""]}),i&&t.jsxs("span",{className:"text-xs text-muted-foreground",children:["Ends ",i]})]}),t.jsx("p",{className:"mt-3 max-h-10 overflow-hidden text-sm text-muted-foreground",children:r.description??"No description provided."}),t.jsxs("div",{className:"mt-4 flex items-end justify-between",children:[t.jsxs("div",{children:[Pe?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg font-semibold",children:g(r.final_price)}),t.jsx("span",{className:"text-xs text-muted-foreground line-through",children:g(r.price)})]}):t.jsx("span",{className:"text-lg font-semibold",children:g(r.price)}),St&&t.jsxs("p",{className:"text-xs text-muted-foreground",children:["Earn ",g(r.cashback_amount)," cashback"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{className:`rounded-md border px-2 py-2 text-xs font-semibold transition duration-200 dark:border-sidebar-border ${R.has(r.id)?"border-amber-300 bg-amber-50 text-amber-700":"border-sidebar-border/70 text-muted-foreground"} ${Et===r.id?"scale-110 rotate-12 shadow-md":"scale-100"}`,onClick:()=>l(r.id),type:"button",children:R.has(r.id)?"★":"☆"}),t.jsx("button",{className:"rounded-md bg-foreground px-3 py-2 text-xs font-semibold text-background transition hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",onClick:()=>Jt(r.id),disabled:b.status==="loading",type:"button",children:"Add to cart"})]})]}),r.reviews?.length?t.jsxs("div",{className:"mt-4 rounded-lg border border-sidebar-border/60 bg-muted/30 p-3 text-xs text-muted-foreground dark:border-sidebar-border",children:[t.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground",children:"Recent reviews"}),t.jsx("div",{className:"mt-2 space-y-2",children:r.reviews.map(br)})]}):null]},r.id)})});e[147]!==ye||e[148]!==Ut?(_=t.jsxs("div",{className:"relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border border-sidebar-border/70 md:min-h-min dark:border-sidebar-border",children:[ye,Ut]}),e[147]=ye,e[148]=Ut,e[149]=_):_=e[149],H="lg:sticky lg:top-6 lg:self-start";let yt;e[150]===Symbol.for("react.memo_cache_sentinel")?(yt=t.jsx("h2",{className:"text-lg font-semibold",children:"Shopping list"}),e[150]=yt):yt=e[150];const Lt=u.length?"Items ready for checkout":"Your cart is empty";let jt;e[151]!==Lt?(jt=t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[yt,t.jsx("p",{className:"text-sm text-muted-foreground",children:Lt})]})}),e[151]=Lt,e[152]=jt):jt=e[152],I=t.jsxs("div",{className:"rounded-xl border border-sidebar-border/70 bg-background p-4 dark:border-sidebar-border",children:[jt,t.jsx("div",{className:"mt-4 space-y-3",children:u.length?u.map(r=>t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-lg border border-sidebar-border/60 p-3 dark:border-sidebar-border",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold",children:r.name}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[g(r.final_price)," each"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{className:"rounded-md border border-sidebar-border/70 px-2 py-1 text-xs dark:border-sidebar-border",onClick:()=>tr(r.id),type:"button",children:"-"}),t.jsx("span",{className:"text-sm font-semibold",children:r.quantity}),t.jsx("button",{className:"rounded-md border border-sidebar-border/70 px-2 py-1 text-xs dark:border-sidebar-border",onClick:()=>Jt(r.id),type:"button",children:"+"})]}),t.jsx("div",{className:"text-sm font-semibold",children:g(r.lineTotal)})]},`cart-${r.id}`)):t.jsx("div",{className:"rounded-lg border border-dashed border-sidebar-border/60 p-6 text-sm text-muted-foreground dark:border-sidebar-border",children:"Add products to build your shopping list."})})]}),B="mt-4 rounded-xl border border-sidebar-border/70 bg-background p-4 dark:border-sidebar-border",e[153]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx("h2",{className:"text-lg font-semibold",children:"Checkout"}),N=t.jsx("p",{className:"text-sm text-muted-foreground",children:"Review totals before paying."}),e[153]=v,e[154]=N):(v=e[153],N=e[154]);let vt;e[155]===Symbol.for("react.memo_cache_sentinel")?(vt=t.jsx("span",{children:"Cashback wallet"}),e[155]=vt):vt=e[155];let je;e[156]!==y?(je=y!==null?g(y):"—",e[156]=y,e[157]=je):je=e[157];let ve;e[158]!==je?(ve=t.jsxs("div",{className:"flex items-center justify-between",children:[vt,t.jsx("span",{className:"font-semibold text-foreground",children:je})]}),e[158]=je,e[159]=ve):ve=e[159];const Ot=`rounded-md border px-2 py-1 text-xs font-semibold ${h==="stripe"?"border-foreground bg-foreground text-background":"border-sidebar-border/70 text-muted-foreground"}`;let Nt;e[160]===Symbol.for("react.memo_cache_sentinel")?(Nt=()=>Gt("stripe"),e[160]=Nt):Nt=e[160];let Ne;e[161]!==Ot?(Ne=t.jsx("button",{className:Ot,onClick:Nt,type:"button",children:"Pay by card"}),e[161]=Ot,e[162]=Ne):Ne=e[162];const Wt=`rounded-md border px-2 py-1 text-xs font-semibold ${h==="wallet"?"border-foreground bg-foreground text-background":"border-sidebar-border/70 text-muted-foreground"}`;let kt;e[163]===Symbol.for("react.memo_cache_sentinel")?(kt=()=>Gt("wallet"),e[163]=kt):kt=e[163];let ke;e[164]!==Wt?(ke=t.jsx("button",{className:Wt,onClick:kt,type:"button",children:"Use cashback"}),e[164]=Wt,e[165]=ke):ke=e[165];let _e;e[166]!==Ne||e[167]!==ke?(_e=t.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[Ne,ke]}),e[166]=Ne,e[167]=ke,e[168]=_e):_e=e[168],e[169]!==ve||e[170]!==_e?(k=t.jsxs("div",{className:"mt-3 rounded-lg border border-sidebar-border/60 bg-muted/30 p-3 text-xs text-muted-foreground dark:border-sidebar-border",children:[ve,_e]}),e[169]=ve,e[170]=_e,e[171]=k):k=e[171],O="mt-4 space-y-3 text-sm";let _t;e[172]===Symbol.for("react.memo_cache_sentinel")?(_t=t.jsx("span",{className:"text-muted-foreground",children:"Items"}),e[172]=_t):_t=e[172],W=t.jsxs("div",{className:"flex items-center justify-between",children:[_t,t.jsx("span",{children:u.reduce(mr,0)})]});let wt;e[173]===Symbol.for("react.memo_cache_sentinel")?(wt=t.jsx("span",{className:"text-muted-foreground",children:"Total"}),e[173]=wt):wt=e[173],z=t.jsxs("div",{className:"flex items-center justify-between",children:[wt,t.jsx("span",{className:"font-semibold",children:g(Kt)})]}),L="flex items-center justify-between",e[174]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx("span",{className:"text-muted-foreground",children:"Cashback"}),e[174]=j):j=e[174],M="font-semibold text-emerald-600 dark:text-emerald-300",U=g(rr),e[37]=c,e[38]=b.status,e[39]=x,e[40]=Te,e[41]=Et,e[42]=E,e[43]=R,e[44]=s.category,e[45]=s.max_price,e[46]=s.min_price,e[47]=s.search,e[48]=p,e[49]=we,e[50]=h,e[51]=m,e[52]=F,e[53]=T,e[54]=y,e[55]=q,e[56]=$,e[57]=u,e[58]=M,e[59]=U,e[60]=L,e[61]=j,e[62]=O,e[63]=W,e[64]=z,e[65]=B,e[66]=v,e[67]=N,e[68]=k,e[69]=H,e[70]=I,e[71]=Y,e[72]=_,e[73]=G,e[74]=w,e[75]=S,e[76]=C,e[77]=J,e[78]=P}else q=e[55],$=e[56],u=e[57],M=e[58],U=e[59],L=e[60],j=e[61],O=e[62],W=e[63],z=e[64],B=e[65],v=e[66],N=e[67],k=e[68],H=e[69],I=e[70],Y=e[71],_=e[72],G=e[73],w=e[74],S=e[75],C=e[76],J=e[77],P=e[78];let K;e[175]!==M||e[176]!==U?(K=t.jsx("span",{className:M,children:U}),e[175]=M,e[176]=U,e[177]=K):K=e[177];let Q;e[178]!==L||e[179]!==j||e[180]!==K?(Q=t.jsxs("div",{className:L,children:[j,K]}),e[178]=L,e[179]=j,e[180]=K,e[181]=Q):Q=e[181];let V;e[182]!==O||e[183]!==W||e[184]!==z||e[185]!==Q?(V=t.jsxs("div",{className:O,children:[W,z,Q]}),e[182]=O,e[183]=W,e[184]=z,e[185]=Q,e[186]=V):V=e[186];const At=b.status==="loading"||u.length===0||h==="wallet"&&!$,Ft=b.status==="loading"?"Processing...":h==="wallet"?"Pay with cashback":"Checkout with card";let X;e[187]!==$t||e[188]!==At||e[189]!==Ft?(X=t.jsx("button",{className:"mt-4 w-full rounded-md bg-foreground px-3 py-2 text-sm font-semibold text-background transition hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-50",onClick:$t,disabled:At,type:"button",children:Ft}),e[187]=$t,e[188]=At,e[189]=Ft,e[190]=X):X=e[190];let Z;e[191]!==$||e[192]!==u||e[193]!==h?(Z=h==="wallet"&&!$&&u.length>0?t.jsx("p",{className:"mt-2 text-xs text-amber-600 dark:text-amber-300",children:"Cashback balance is insufficient for this order."}):null,e[191]=$,e[192]=u,e[193]=h,e[194]=Z):Z=e[194];let ee;e[195]!==b.message||e[196]!==b.status?(ee=b.status!=="idle"&&b.message?t.jsx("p",{className:`mt-3 text-xs ${b.status==="success"?"text-emerald-600 dark:text-emerald-300":b.status==="error"?"text-red-600 dark:text-red-300":"text-muted-foreground"}`,children:b.message}):null,e[195]=b.message,e[196]=b.status,e[197]=ee):ee=e[197];let te;e[198]!==B||e[199]!==v||e[200]!==N||e[201]!==k||e[202]!==V||e[203]!==X||e[204]!==Z||e[205]!==ee?(te=t.jsxs("div",{className:B,children:[v,N,k,V,X,Z,ee]}),e[198]=B,e[199]=v,e[200]=N,e[201]=k,e[202]=V,e[203]=X,e[204]=Z,e[205]=ee,e[206]=te):te=e[206];let re;e[207]!==H||e[208]!==I||e[209]!==te?(re=t.jsxs("div",{className:H,children:[I,te]}),e[207]=H,e[208]=I,e[209]=te,e[210]=re):re=e[210];let se;e[211]!==Y||e[212]!==_||e[213]!==re?(se=t.jsxs("div",{className:Y,children:[_,re]}),e[211]=Y,e[212]=_,e[213]=re,e[214]=se):se=e[214];let ae;e[215]!==G||e[216]!==w||e[217]!==S||e[218]!==C||e[219]!==se?(ae=t.jsxs("div",{className:G,children:[w,S,C,se]}),e[215]=G,e[216]=w,e[217]=S,e[218]=C,e[219]=se,e[220]=ae):ae=e[220];let tt;return e[221]!==q||e[222]!==J||e[223]!==P||e[224]!==ae?(tt=t.jsxs(q,{breadcrumbs:J,children:[P,ae]}),e[221]=q,e[222]=J,e[223]=P,e[224]=ae,e[225]=tt):tt=e[225],tt}function mr(e,n){return e+n.quantity}function br(e){return t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-foreground",children:e.reviewer}),t.jsx("span",{children:"★".repeat(e.rating)})]}),t.jsx("p",{className:"text-xs",children:e.comment})]},e.id)}function ur(e,n){return t.jsxs("div",{className:"space-y-3 rounded-xl border border-sidebar-border/70 p-4 dark:border-sidebar-border",children:[t.jsx("div",{className:"h-36 w-full animate-pulse rounded-lg bg-muted"}),t.jsx("div",{className:"h-4 w-2/3 animate-pulse rounded bg-muted"}),t.jsx("div",{className:"h-4 w-1/2 animate-pulse rounded bg-muted"}),t.jsx("div",{className:"h-8 w-full animate-pulse rounded bg-muted"})]},`skeleton-${n}`)}function xr(e){return Math.max(1,e-1)}function fr(e){return t.jsx("option",{value:e,children:e},e)}function hr(e){return e.promo_active}function pr(e,n){return e+n.lineCashback}function gr(e,n){return e+n.lineTotal}function yr(e){const[n,m]=e;return{product_id:Number(n),quantity:m}}function jr(e){if(!e)return null;const n=new Date(e);return Number.isNaN(n.getTime())?null:n.toLocaleDateString()}function vr(e){return cr.format(e)}function Nr(e){console.error("Error saving cart:",e)}function kr(e){const[n,m]=e;return{product_id:Number(n),quantity:m}}function _r(e){f.isCancel(e)||console.error("Error fetching wallet:",e)}function wr(e){f.isCancel(e)||console.error("Error fetching favorites:",e)}function Sr(e){return e.id}export{Dr as default};
